<div class="relative h-screen overflow-hidden w-full">
  <!-- Imagen de fondo -->
  <picture class="absolute inset-0 w-full h-full">
    <source srcset="/assets/optimized/login.avif" type="image/avif" />
    <source srcset="/assets/optimized/login.webp" type="image/webp" />
    <img 
      src="/assets/optimized/login.png" 
      alt="Imagen de fondo de recuperación" 
      class="w-full h-full object-cover blur-sm brightness-75"
    />
  </picture>

  <!-- Formulario de recuperación -->
  <div class="absolute inset-0 flex items-start justify-center pt-32 z-10">
    <div class="bg-white/90 backdrop-blur-md rounded-2xl shadow-xl p-8 w-full max-w-md mx-4">
      <h2 class="text-2xl font-bold text-center mb-6 text-gray-800">Restablecer Contraseña</h2>

      <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" class="space-y-4">
        <!-- Nueva contraseña -->
        <div>
            <label for="newPassword" class="block text-sm font-semibold text-gray-700">Nueva contraseña</label>
            <input
            id="newPassword"
            type="password"
            formControlName="newPassword"
            placeholder="Introduce nueva contraseña"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
            />
            <div *ngIf="resetForm.get('newPassword')?.touched && resetForm.get('newPassword')?.invalid" class="text-sm text-red-600 mt-1">
            <div *ngIf="resetForm.get('newPassword')?.errors?.['required']">Este campo es obligatorio</div>
            <div *ngIf="resetForm.get('newPassword')?.errors?.['minlength']">Mínimo 6 caracteres</div>
            </div>
        </div>

        <!-- Confirmar contraseña -->
        <div>
            <label for="confirmPassword" class="block text-sm font-semibold text-gray-700">Repetir contraseña</label>
            <input
            id="confirmPassword"
            type="password"
            formControlName="confirmPassword"
            placeholder="Confirma tu contraseña"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
            />
            <div *ngIf="resetForm.get('confirmPassword')?.touched && resetForm.get('confirmPassword')?.invalid" class="text-sm text-red-600 mt-1">
            <div *ngIf="resetForm.get('confirmPassword')?.errors?.['required']">Este campo es obligatorio</div>
            </div>
        </div>

        <!-- Error de coincidencia -->
        <div *ngIf="formError" class="text-red-700 bg-red-100 border border-red-400 rounded px-3 py-2 text-sm">
            {{ formError }}
        </div>

        <!-- Botón -->
        <button
            type="submit"
            [disabled]="resetForm.invalid"
            class="w-full bg-amber-600 hover:bg-amber-700 text-white font-semibold py-2 px-4 rounded disabled:opacity-50"
        >
            Actualizar contraseña
        </button>
        </form>
    </div>
  </div>
</div>
