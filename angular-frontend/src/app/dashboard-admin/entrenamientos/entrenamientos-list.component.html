<div class="contenedor_xl min-h-full">

  <!-- Botón atrás -->
  <div>
    <a [routerLink]="backLink"
       class="cursor-pointer boton transition-all duration-300 ease-in-out">
      Atrás
    </a>
  </div>

  <!-- Título -->
  <h2 class="text-3xl font-bold text-center mb-8 mt-8 text-letra">
    Asistencias a Entrenamientos
  </h2>

  <!-- FILTROS -->
  <div class="contenedor_md flex gap-4 mb-4" [formGroup]="filterForm">
    <mat-form-field appearance="fill" class="flex-1">
      <mat-label>Buscar árbitro</mat-label>
      <input matInput placeholder="Nombre y apellidos" formControlName="nameFilter" />
    </mat-form-field>
    <mat-form-field appearance="fill" class="w-1/3">
      <mat-label>Categoría</mat-label>
      <input matInput placeholder="Ej: Provincial" formControlName="catFilter" />
    </mat-form-field>
  </div>

  <!-- BOTÓN AÑADIR -->
  <div class="contenedor_md flex justify-end gap-3 mb-2 text-letra hover:text-yellow-700 transition-color duration-300 ease-in-out">
    <button mat-flat-button color="primary" (click)="addEntrenamiento()" class="cursor-pointer">
      <i class="fa-solid fa-plus"></i>
      Añadir
    </button>
  </div>

  <!-- TABLA -->
  <div class="contenedor_md overflow-x-auto">
    <table class="tabla-responsive w-full text-left border-collapse rounded-xl overflow-hidden shadow-lg bg-gray-350 mb-16">
        <thead class="bg-bordes text-logo uppercase text-sm">
        <tr>
            <th class="px-3 py-2">NIF</th>
            <th class="px-3 py-2">Árbitro/a</th>
            <th class="px-3 py-2">Categoría</th>
            <th class="px-2 py-2 text-center">Sep</th>
            <th class="px-2 py-2 text-center">Oct</th>
            <th class="px-2 py-2 text-center">Nov</th>
            <th class="px-2 py-2 text-center">Dic</th>
            <th class="px-2 py-2 text-center">Ene</th>
            <th class="px-2 py-2 text-center">Feb</th>
            <th class="px-2 py-2 text-center">Mar</th>
            <th class="px-2 py-2 text-center">Abr</th>
            <th class="px-2 py-2 text-center">Total</th>
            <th class="px-3 py-2 text-center">Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let e of filtered" class="border-b">
            <td data-label="NIF" class="px-3 py-2">{{ e.nif }}</td>
            <td data-label="Árbitro/a" class="px-3 py-2">{{ e.first_surname }} {{ e.second_surname }} {{ e.name }}</td>
            <td data-label="Categoría" class="px-3 py-2">{{ e.categoria }}</td>
            <td data-label="Sep" class="px-2 py-2 text-center">{{ e.septiembre }}</td>
            <td data-label="Oct" class="px-2 py-2 text-center">{{ e.octubre }}</td>
            <td data-label="Nov" class="px-2 py-2 text-center">{{ e.noviembre }}</td>
            <td data-label="Dic" class="px-2 py-2 text-center">{{ e.diciembre }}</td>
            <td data-label="Ene" class="px-2 py-2 text-center">{{ e.enero }}</td>
            <td data-label="Feb" class="px-2 py-2 text-center">{{ e.febrero }}</td>
            <td data-label="Mar" class="px-2 py-2 text-center">{{ e.marzo }}</td>
            <td data-label="Abr" class="px-2 py-2 text-center">{{ e.abril }}</td>
            <td data-label="Total" class="px-2 py-2 text-center">{{ e | totalEntrenamiento }}</td>
            <td data-label="Acciones" class="px-3 py-2 text-center space-x-4">
            <a (click)="editEntrenamiento(e)" class="text-yellow-600 hover:text-yellow-700 cursor-pointer">
                <i class="fas fa-edit"></i>
            </a>
            <a (click)="deleteEntrenamiento(e)" class="text-red-500 hover:text-red-700 cursor-pointer">
                <i class="fas fa-trash-alt"></i>
            </a>
            </td>
        </tr>
        </tbody>
    </table>
    </div>
</div>
